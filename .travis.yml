# Travic-CI-Config file for \Org\Heigl\Hyphenator
#
language: php
php:
  - 5.4
  - 5.5
  - 5.6
  - 7.0
  - hhvm
  - hhvm-nightly

before_script:
 - ./.travis.install.sh

script:
 - ./vendor/bin/phpunit --configuration=phpunit.travis.xml
 - ./vendow/bin/phpcs

addons:
 code_climate:
  repo_token:
    secure:

matrix:
  fast_finish : true
  allow_failures:
      - php: 7.0

after_script:
 - ./vendor/bin/test-reporter --stdout > codeclimate.json
 - 'curl -X POST -d @codeclimate.json -H "Content-Type: application/json" -H "User-Agent: Code Climate (PHP Test Reporter v1.0.1-dev)"  https://codeclimate.com/test_reports'
 - wget https://scrutinizer-ci.com/ocular.phar
 - php ocular.phar code-coverage:upload --format=php-clover build/logs/clover.xml
